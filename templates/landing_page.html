<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Account Section</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Open Sans', sans-serif;
            font-weight: 300;
        }
        body {
            background-color: #f9f9f9;
            color: #333;
        }
        /* Header */
        .header {
            background-color: #fff;
            padding: 15px 0;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        .header img {
            max-width: 100px;
        }
        /* Main Container */
        .container-main {
            display: flex;
            flex-wrap: wrap;
            width: 100%;
            height: calc(100vh - 80px); /* Full height minus header */
            background-color: #fff;
            border-radius: 0;
            overflow: hidden;
        }
        .sidebar {
            width: 30%;
            background-color: #f3f4f6;
            padding: 20px;
            border-right: 1px solid #ddd;
            font-size: 12px;
            height: 100%;
        }
        .sidebar ul {
            list-style: none;
        }
        .sidebar ul li {
            margin-bottom: 15px;
        }
        .sidebar ul li a {
            text-decoration: none;
            color: #333;
            font-weight: bold;
        }
        .sidebar ul li a:hover {
            color: #007bff;
        }
        .content {
            width: 70%;
            padding: 40px;
            overflow-y: auto;
        }
        .account-section, .dashboard-section, .plan-section, .history-section {
            display: none;
        }
        .show {
            display: block;
        }
        .form-group label {
            font-weight: bold;
        }
        .form-control, .btn {
            border-radius: 5px;
            font-size: 12px;
        }
        .btn-black {
            background-color: #000;
            color: #fff;
            border: none;
        }
        .upload-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
        }
        .api-box {
            display: flex;
            flex-direction: column;
            width: 100%;
            border-radius: 8px;
            margin-top: 20px;
            background-color: #fff;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .api-box img {
            width: 100%;
            height: auto;
            max-height: 300px;
            object-fit: cover;
            border-radius: 8px 0 0 8px;
        }
        .api-results {
            padding: 20px;
            width: 100%;
            border-radius: 0 8px 8px 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        @media(min-width: 768px) {
            .api-box {
                flex-direction: row;
            }
            .api-box img, .api-results {
                width: 50%;
            }
        }
        .small-text {
            font-size: 12px;
            font-weight: bold;
        }
        .title {
            font-size: 20px;
        }
        .recommendation-text {
            font-size: 14px;
            font-weight: bold;
        }
        .description-text {
            font-size: 14px;
        }
        .recent-recommendations-title {
            font-size: 16px;
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        .divider {
            height: 1px;
            background-color: #ddd;
            margin: 20px 0;
        }
        .history-title {
            font-size: 16px;
            font-weight: bold;
            margin: 20px 0 10px;
        }
        .history-section {
            max-height: calc(100vh - 80px);
            overflow-y: auto; /* Enable scrolling */
            padding-right: 15px; /* Padding for scrollbar */
        }
        .invoices-title {
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }
    </style>
</head>
<body>

<!-- Header with Logo -->
<div class="header">
    <img src="https://seeklogo.com/images/B/book-logo-D4B4CB4B78-seeklogo.com.png" alt="Logo">
</div>

<div class="container-main">
    <!-- Sidebar Menu -->
    <div class="sidebar">
        <ul>
            <li><a href="#" onclick="showSection('dashboard')">Dashboard</a></li>
            <li><a href="#" onclick="showSection('history')">History</a></li>
            <li><a href="#" onclick="showSection('account')">Account</a></li>
            <li><a href="#" onclick="showSection('plan')">Plan</a></li>
            <li><a href="#">Logout</a></li>
        </ul>
    </div>

    <!-- Page Content -->
    <div class="content">
        <!-- Dashboard Section -->
        <div id="dashboard" class="dashboard-section show">
            <h2 class="text-center mt-5 title">Upload a picture and wait for the magic!</h2>
            <p class="text-center recommendation-text">You have 1 recommendation available.</p>
            <p class="text-center description-text">Be sure to take a bright, clean photo: frame your favorite books and wait for our algorithm to create amazing suggestions for you.</p>
            <div class="upload-container mt-4">
                <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="callApi(this)">
                <button class="btn btn-black btn-lg" onclick="document.getElementById('imageUpload').click()">Upload Image</button>
            </div>
            
            <!-- Recent Recommendations Title -->
            <div class="recent-recommendations-title text-center">Recent recommendations</div>

            <!-- API Box with image and empty results area -->
            <div class="api-box mt-4">
                <!-- Placeholder Image -->
                <img src="https://images.squarespace-cdn.com/content/v1/5876279bbebafb82a7c81c00/f4e17d6a-81db-4a04-9bda-63c86c517778/IMG_3105.jpg" alt="Placeholder Image of Books">
                
                <!-- Empty Results Area -->
                <div class="api-results">
                    <ul id="apiResultsList" class="list-unstyled">
                        <!-- API results will be appended here -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- History Section -->
        <div id="history" class="history-section">
            <div class="history-title">Photo 1: crime books</div>
            <div class="api-box">
                <img src="https://images.squarespace-cdn.com/content/v1/5876279bbebafb82a7c81c00/f4e17d6a-81db-4a04-9bda-63c86c517778/IMG_3105.jpg" alt="Placeholder Image of Books">
            </div>

            <div class="history-title">Photo 2: George Orwell and classic literature</div>
            <div class="api-box">
                <img src="https://images.squarespace-cdn.com/content/v1/5876279bbebafb82a7c81c00/f4e17d6a-81db-4a04-9bda-63c86c517778/IMG_3105.jpg" alt="Placeholder Image of Books">
            </div>

            <div class="history-title">Photo 3: Agatha Christie</div>
            <div class="api-box">
                <img src="https://images.squarespace-cdn.com/content/v1/5876279bbebafb82a7c81c00/f4e17d6a-81db-4a04-9bda-63c86c517778/IMG_3105.jpg" alt="Placeholder Image of Books">
            </div>

            <div class="history-title">Photo 4: history books</div>
            <div class="api-box">
                <img src="https://images.squarespace-cdn.com/content/v1/5876279bbebafb82a7c81c00/f4e17d6a-81db-4a04-9bda-63c86c517778/IMG_3105.jpg" alt="Placeholder Image of Books">
            </div>

            <div class="history-title">Photo 5: cooking books</div>
            <div class="api-box">
                <img src="https://images.squarespace-cdn.com/content/v1/5876279bbebafb82a7c81c00/f4e17d6a-81db-4a04-9bda-63c86c517778/IMG_3105.jpg" alt="Placeholder Image of Books">
            </div>

            <!-- Add space at the end of the history section -->
            <div style="height: 200px;"></div>
        </div>

        <!-- Account Section -->
        <div id="account" class="account-section">
            <h2 class="text-center mt-5 title">Account</h2>
            <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" class="form-control" id="firstName" placeholder="Enter your first name">
            </div>
            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" placeholder="Enter your last name">
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" placeholder="Enter your email">
            </div>
            <button class="btn btn-black mt-3">Change Password</button>
            <button class="btn btn-black mt-3">Save</button>
        </div>

        <!-- Plan Section -->
        <div id="plan" class="plan-section">
            <h2 class="text-center mt-5 title" style="font-weight: bold; color: #000;">Plan</h2>
            <p>You are currently on Basic plan. Your plan will be automatically renewed on XXXX</p>
            <div class="divider"></div>
            <h3 class="invoices-title" style="font-size: 16px; font-weight: bold; text-align: center;">Download past invoices</h3>
            <ul>
                <li>Invoice.pdf</li>
            </ul>
        </div>
    </div>
</div>

<script>
    function showSection(section) {
        // Hide all sections
        document.querySelectorAll('.dashboard-section, .history-section, .account-section, .plan-section').forEach(sec => {
            sec.classList.remove('show');
        });
        // Show the selected section
        document.getElementById(section).classList.add('show');
    }

    async function callApi(input) {
        const file = input.files[0];
        if (!file) return;

        const formData = new FormData();
        formData.append('file', file);

        try {
            const response = await fetch('YOUR_API_ENDPOINT_HERE', {
                method: 'POST',
                body: formData
            });
            if (!response.ok) throw new Error('Network response was not ok');
            const data = await response.json();
            displayResults(data);
        } catch (error) {
            console.error('Error:', error);
            alert("Failed to call API. Please try again.");
        }
    }

    function displayResults(data) {
        const resultsList = document.getElementById('apiResultsList');

        // Clear previous results
        resultsList.innerHTML = '';

        // Assuming data is an array of results
        data.forEach(item => {
            const listItem = document.createElement('li');
            listItem.textContent = item.name; // Change according to your data structure
            resultsList.appendChild(listItem);
        });
    }
</script>

</body>
</html>
